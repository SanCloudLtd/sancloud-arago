From 6f80b1e5595a13eec465581cfb352efcb0286bc8 Mon Sep 17 00:00:00 2001
From: Khem Raj <raj.khem@gmail.com>
Date: Wed, 11 Sep 2019 22:15:24 +0000
Subject: [PATCH] ti-unpack: Simplify the logic to detect 32bit glibc on build
 host

Signed-off-by: Khem Raj <raj.khem@gmail.com>
Signed-off-by: Denys Dmytriyenko <denys@ti.com>
---
 recipes-ti/includes/ti-unpack.inc | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

diff --git a/recipes-ti/includes/ti-unpack.inc b/recipes-ti/includes/ti-unpack.inc
index 81fcf6a6..828f3d5a 100644
--- a/recipes-ti/includes/ti-unpack.inc
+++ b/recipes-ti/includes/ti-unpack.inc
@@ -20,10 +20,7 @@ python ti_bin_do_unpack() {
     import os
 
     # InstallJammer requires 32bit version of glibc
-    lib32path = '/lib'
-    if os.path.exists('/lib64') and (os.path.islink('/lib64') or os.path.islink('/lib') or os.path.exists('/lib32')):
-        lib32path = '/lib32'
-    if not os.path.exists('%s/libc.so.6' % lib32path) and not os.path.exists('%s/i386-linux-gnu/libc.so.6' % lib32path):
+    if not os.path.exists('/lib/ld-linux.so.2'):
         bb.fatal("TI installer requires 32bit glibc libraries for proper operation\nrun 'yum install glibc.i686' on Fedora or 'apt-get install libc6:i386' on Ubuntu/Debian")
 
     localdata = bb.data.createCopy(d)
-- 
2.24.0

